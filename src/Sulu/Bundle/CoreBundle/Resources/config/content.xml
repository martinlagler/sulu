<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <service id="sulu.content.slugger" class="Symfony\Component\String\Slugger\AsciiSlugger" />

        <service id="sulu.content.path_cleaner" class="Sulu\Component\PHPCR\PathCleanup" public="true">
            <argument type="collection" key="$replacers">
            </argument>
            <argument type="service" key="$slugger" id="sulu.content.slugger"/>
        </service>
        <service id="Sulu\Component\PHPCR\PathCleanupInterface" alias="sulu.content.path_cleaner"/>

        <service id="sulu.content.template_resolver" public="false" class="Sulu\Component\Content\Template\TemplateResolver"/>

        <!-- content type manager -->
        <service id="sulu.content.type_manager" class="Sulu\Component\Content\ContentTypeManager" public="true">
            <argument type="service" id="service_container"/>
        </service>

        <!-- simple content types -->
        <service id="sulu.content.type.number" class="Sulu\Component\Content\Types\Number">
            <tag name="sulu.content.type" alias="number"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="false" />
        </service>
        <service id="sulu.content.type.text_line" class="Sulu\Component\Content\Types\TextLine">
            <tag name="sulu.content.type" alias="text_line"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="true" />
        </service>
        <service id="sulu.content.type.text_area" class="Sulu\Component\Content\Types\TextArea">
            <tag name="sulu.content.type" alias="text_area"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="true" />
        </service>
        <service id="sulu.content.type.text_editor" class="Sulu\Component\Content\Types\TextEditor">
            <argument type="service" id="sulu_markup.parser"/>
            <tag name="sulu.content.type" alias="text_editor"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="true" />
        </service>
        <service id="sulu.content.type.resource_locator" class="Sulu\Component\Content\Types\ResourceLocator">
            <tag name="sulu.content.type" alias="resource_locator"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="false" />
        </service>
        <service id="sulu.content.type.link" class="Sulu\Component\Content\Types\Link">
            <argument type="service" id="sulu_markup.link_tag.provider_pool"/>
            <argument type="service" id="sulu_website.reference_store_pool"/>
            <tag name="sulu.content.type" alias="link"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="false" />
        </service>
        <service id="sulu.content.type.single_icon_selection" class="Sulu\Component\Content\Types\SingleIconSelection">
            <tag name="sulu.content.type" alias="single_icon_selection"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="true" />
        </service>

        <!-- complex content types -->
        <service id="sulu.content.type.block" class="Sulu\Component\Content\Types\BlockContentType">
            <argument type="service" id="sulu.content.type_manager"/>
            <argument type="tagged" tag="sulu_content.deprecated_block_visitor" />

            <tag name="sulu.content.type" alias="block"/>
            <tag name="sulu.content.export" format="1.2.xliff" translate="false" />
        </service>

        <service
            id="sulu.content.type.block.hidden_visitor"
            class="Sulu\Component\Content\Types\Block\HiddenBlockVisitor"
        >
            <tag name="sulu_content.deprecated_block_visitor" />
        </service>

        <service
            id="sulu.content.type.block.segment_visitor"
            class="Sulu\Component\Content\Types\Block\SegmentBlockVisitor"
        >
            <argument type="service" id="sulu_core.webspace.request_analyzer" />
            <tag name="sulu_content.deprecated_block_visitor" />
        </service>

        <service
            id="sulu.content.type.block.schedule_visitor"
            class="Sulu\Component\Content\Types\Block\ScheduleBlockVisitor"
        >
            <argument type="service" id="sulu_core.webspace.request_analyzer" />
            <argument type="service" id="sulu_http_cache.cache_lifetime.request_store" on-invalid="null" />
            <tag name="sulu_content.deprecated_block_visitor" />
        </service>

        <!-- sulu node helper -->
        <service id="sulu.content.localization_finder" class="Sulu\Component\Content\Compat\LocalizationFinder" public="true">
            <argument type="service" id="sulu_core.webspace.webspace_manager"/>
        </service>
    </services>
</container>
